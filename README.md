–ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫—É –∑ –Ω—É–ª—è
npm run db:gen (–ø–µ—Ä—à–∏–π —Ä–∞–∑, —â–æ–± –∑‚Äô—è–≤–∏–ª–∞—Å—å –º—ñ–≥—Ä–∞—Ü—ñ—è –∑ –Ω–æ–≤–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏/enum/FK)

npm run db:setup (–ø—Ä–æ–≥–Ω–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó + —Å—Ç–≤–æ—Ä–∏—Ç–∏/–æ–Ω–æ–≤–∏—Ç–∏ —Å—É–ø–µ—Ä-–∞–¥–º—ñ–Ω–∞)

—Å—Ç–∞—Ä—Ç—É–π –±–µ–∫–µ–Ω–¥, –ª–æ–≥—ñ–Ω—å—Å—è:

POST /auth/login ‚Üí { "username": "superadmin", "password": "<SUPERADMIN_PASSWORD>" }

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ —Å—É–ø–µ—Ä-–∞–¥–º—ñ–Ω —á–µ—Ä–µ–∑ /auth/create-admin —Å—Ç–≤–æ—Ä—é—î –≥–æ—Ç–µ–ª—ñ (admin), –∞ —Ç—ñ ‚Äî —Å–≤–æ—ó—Ö editor‚Äô—ñ–≤.
–Ø–∫—â–æ —â–æ—Å—å –≤–ø–∏—Ä–∞—î—Ç—å—Å—è —É —Å—Ö–µ–º—É (—Ç–∏–ø—É ‚Äú–∫–æ–ª–æ–Ω–∫–∞ –Ω–µ —ñ—Å–Ω—É—î‚Äù) ‚Äî –∑–Ω–∞—á–∏—Ç—å –Ω–µ –ø—Ä–æ–π—à–ª–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó; db:migrate –≤–∏–ø—Ä–∞–≤–∏—Ç—å.

üß™ –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫—É PostgreSQL —É Docker:
docker run --name hotel-db \
 -e POSTGRES_PASSWORD=mysecretpassword \
 -e POSTGRES_USER=postgres \
 -e POSTGRES_DB=hotel \
 -p 5432:5432 \
 -d postgres

üîÑ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω–∏–π:
docker ps

–ú–∞—î –∑‚Äô—è–≤–∏—Ç–∏—Å—è —Ä—è–¥–æ–∫ –Ω–∞ –∫—à—Ç–∞–ª—Ç:
CONTAINER ID IMAGE ... NAMES
abc123456789 postgres ... hotel-db

–¥–∞–ª–µ–µ —Å–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü–∏ –∏ superadmin:
"db:gen:init": "typeorm-ts-node-commonjs migration:generate src/migrations/init_schema -d src/config/data-source.ts",
"db:migrate": "typeorm-ts-node-commonjs migration:run -d src/config/data-source.ts",
"seed:superadmin": "ts-node src/seeds/seedSuperadmin.ts"

–ú–æ–∂–µ—à –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ pgAdmin –∞–±–æ DBeaver, —â–æ–± –±–∞—á–∏—Ç–∏ —Å–≤–æ—é –±–∞–∑—É –≤ –≥—Ä–∞—Ñ—ñ—á–Ω–æ–º—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ.
üß∞ –í–ê–†–Ü–ê–ù–¢ 1: DBeaver ‚Äî –Ω–∞–π–∑—Ä—É—á–Ω—ñ—à–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)
‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏:
–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π

–ü—ñ–¥—Ç—Ä–∏–º—É—î –±–∞–≥–∞—Ç–æ –±–∞–∑ (PostgreSQL, SQLite, MySQL...)

–ü—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ —Ç–∞ —à–≤–∏–¥–∫–æ
‚öôÔ∏è –ö—Ä–æ–∫–∏ –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:
–í—ñ–¥–∫—Ä–∏–π DBeaver

–ù–∞—Ç–∏—Å–Ω–∏ "New Database Connection"

–û–±–µ—Ä–∏ PostgreSQL

–í–≤–µ–¥–∏ —Ç–∞–∫—ñ –¥–∞–Ω—ñ:
| –ü–æ–ª–µ | –ó–Ω–∞—á–µ–Ω–Ω—è |
| -------- | ------------------ |
| Host | `localhost` |
| Port | `5432` |
| Database | `hotel` |
| Username | `postgres` |
| Password | `mysecretpassword` |

üì∑ –Ø–∫ –≤–∏–≥–ª—è–¥–∞—î:
–ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Ç–∏ –ø–æ–±–∞—á–∏—à:

hotel –±–∞–∑—É

–î–µ—Ä–µ–≤–∞ –∑ —Ç–∞–±–ª–∏—Ü—è–º–∏, —Å—Ö–µ–º–∞–º–∏, –¥–∞–Ω–∏–º–∏

–ú–æ–∂–Ω–∞ —Ä–æ–±–∏—Ç–∏ SELECT, INSERT, –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –≤—Ä—É—á–Ω—É, —Ç–æ—â–æ

üîö –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ:
–ú–µ—Ç–æ–¥ –ú–∞—Ä—à—Ä—É—Ç –û–ø–∏—Å
GET /api/guests –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ—Ö –≥–æ—Å—Ç–µ–π
POST /api/guests –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è
PUT /api/guests/:id –û–Ω–æ–≤–∏—Ç–∏ –≥–æ—Å—Ç—è
DELETE /api/guests/:id –í–∏–¥–∞–ª–∏—Ç–∏ –≥–æ—Å—Ç—è

–ü—Ä–æ–≥—Ä–∞–º–∞ ChatGPT —Å–∫–∞–∑–∞–ª–∞:
üîë –¶–µ –¥—É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–µ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ä—ñ–≤–µ–Ω—å superadmin, —è–∫–∏–π:

üëë –©–æ –º–æ–∂–µ superadmin:
–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –û–ø–∏—Å
–°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ admin –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≥–æ—Ç–µ–ª—é
–ë–ª–æ–∫—É–≤–∞—Ç–∏ / —Ä–æ–∑–±–ª–æ–∫–æ–≤—É–≤–∞—Ç–∏ admin –£ —Ä–∞–∑—ñ –Ω–µ—Å–ø–ª–∞—Ç–∏, –ø–æ—Ä—É—à–µ–Ω—å —Ç–æ—â–æ
–ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –≤—Å—ñ—Ö admin —ñ —ó—Ö editor –ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å
‚ùå –ù–ï —Å—Ç–≤–æ—Ä—é—î editor –Ω–∞–ø—Ä—è–º—É –¶–µ —Ä–æ–±–∏—Ç—å —Å–∞–º admin –¥–ª—è —Å–≤–æ–≥–æ –≥–æ—Ç–µ–ª—é

1. –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç—ã —É–¥–∞–ª–∏–ª –ë–î –∏ —Ö–æ—á–µ—à—å –ø–æ–¥–Ω—è—Ç—å –ø—Ä–æ–µ–∫—Ç –∑–∞–Ω–æ–≤–æ
   (–ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —É–∂–µ –µ—Å—Ç—å –≤ —Ä–µ–ø–æ)

–ó–∞–ø—É—Å—Ç–∏ Postgres (–Ω–∞–ø—Ä–∏–º–µ—Ä, Docker-–∫–æ–º–∞–Ω–¥–æ–π, –∫–∞–∫ —É —Ç–µ–±—è).

–£–±–µ–¥–∏—Å—å, —á—Ç–æ .env —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å POSTGRES_USER/PASSWORD/DB.

–ü—Ä–æ–≥–æ–Ω—è–µ—à—å –º–∏–≥—Ä–∞—Ü–∏–∏ ‚Üí —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã:
npm run db:migrate
–°–∏–¥–∏—à—å —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞:
npm run seed:superadmin
–°—Ç–∞—Ä—Ç—É–µ—à—å –±—ç–∫–µ–Ω–¥ –∏ –ª–æ–≥–∏–Ω–∏—à—å—Å—è —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–º:
POST /auth/login
{ "username": "superadmin", "password": "<SUPERADMIN_PASSWORD –∏–∑ .env>" }
–î–∞–ª—å—à–µ superadmin –¥–µ–ª–∞–µ—Ç /auth/create-admin, –∞ –∞–¥–º–∏–Ω—ã ‚Äî —Å–≤–æ–∏—Ö editor‚Äô–æ–≤. –í—Å—ë.

–ù–∞ –±—É–¥—É—â–µ–µ –º–æ–∂–µ—à—å –∑–∞–≤–µ—Å—Ç–∏ –∞–ª–∏–∞—Å:
"db:setup": "npm run db:migrate && npm run seed:superadmin" ‚Äî —á—Ç–æ–±—ã –∑–∞–ø—É—Å–∫–∞—Ç—å –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.

2. –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–π –µ—â—ë –Ω–µ—Ç (–∏–ª–∏ —Ç—ã –º–µ–Ω—è–ª —Å—É—â–Ω–æ—Å—Ç–∏ –∏ —Ö–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é)
   (–¥–µ–ª–∞–µ—Ç—Å—è –Ω–µ –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∞ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Å—Ö–µ–º–∞)

–°–≥–µ–Ω–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é (—Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª –≤ src/migrations/):
npm run db:gen:init
–ü—Ä–∏–º–µ–Ω–∏—Ç—å –µ—ë:
npm run db:migrate
–ó–∞—Å–µ—è—Ç—å —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞:
npm run seed:superadmin
–ó–∞–∫–æ–º–º–∏—Ç—å —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –∏–∑ —Å–µ–∫—Ü–∏–∏ ‚Ññ1.
